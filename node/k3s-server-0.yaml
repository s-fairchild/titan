selinux: true
debug: false
etcd-expose-metrics: true
tls-san:
  - rick.expresso.lan
  - app.rick.expresso.lan
  - rick.lan
  - expresso.lan
  - k3s-rick-agent-0
  - k3s-rick-agent-1
  - k3s-rick-agent-2
  - k3s-rick-server-0
  - k3s-rick-serverlb
  - server-0
  - loadbalancer
  - 10.50.0.2
  - 10.50.0.1
secrets-encryption: true
kube-proxy-arg:
  - metrics-bind-address=0.0.0.0
  - pod-bridge-interface=k3s
write-kubeconfig: /root/admin.kubeconfig

# Networking
# https://docs.k3s.io/cli/server#networking
flannel-external-ip: false
servicelb-namespace: kube-system-traefik
cluster-domain: rick.expresso.lan
# Agents use loopback tunnel, or the node's IP address
# egress-selector-mode: pod

## flannel
flannel-iface: enp5s0
flannel-backend: vxlan
# flannel-conf: /var/lib/rancher/k3s/agent/flannel/cni0-pods.json
# flannel-cni-conf: /var/lib/rancher/k3s/agent/flannel/flannel-services.json

## kube apiserver
node-ip: 10.43.0.1
node-external-ip: 10.50.0.2
advertise-address: 10.43.0.1
